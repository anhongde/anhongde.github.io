(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5585460a"],{"0502":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAAECAMAAADmg0o1AAAAjVBMVEUAAADeKVnkXAYAfsH2MQDgPS0AfcEAfsHeKlnkXAblXAUAfsHeKVkAfcHeKlnkWwUAfcHkWwYAfcHkXAYAfMHjWwMAfcDfKVjkWQYAfcHeJ1UAfMHkXAbcKlfeKVgAfsHeKVneKljeKljeKVkAfsEAfcDjWQbiXAfeKljeKVfkWwbeKVreKlnkXAYAfsExNruCAAAALHRSTlMA9vb2AQz6/fr67Ovr29u+vbCve0lJKysrJycM2kl78L+8sa57eSgmeUnbfR6tGnQAAAD1SURBVEjHzdbJDoJAEEXRUop2wFkRFRVERgf+//N0hyQlVvJC5O5fclLpRVNg1XJin6TYPfYVjdc2ifFp1lM0uX/Zb6aWIidB9Yg9t6l7eLX+jF0+9tuwF4BdwAdkys/Mak9iu/lT0WiZMol54UPRMDrI++1iUP4M12cM2K9ve/fw5F20egyPPRvIHmkvb+rPfbDYikNOlyONe75jkuJDNNTAQ0/e71embKjSE6ZH7BePqA18psbL+qtSD+L/aA/Vlzf1z8x0wyRlr8d9RTeXSd6fJz1Fs0Le+7FjNVTpCdEfXUbsJ6bu4VG9nwB42J4DdhEfvADUca36jM8YLAAAAABJRU5ErkJggg=="},"5b51":function(e,t,a){},ac6a:function(e,t,a){for(var i=a("cadf"),s=a("0d58"),n=a("2aba"),o=a("7726"),d=a("32e9"),r=a("84f2"),l=a("2b4c"),c=l("iterator"),u=l("toStringTag"),p=r.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=s(m),f=0;f<g.length;f++){var h,v=g[f],A=m[v],y=o[v],S=y&&y.prototype;if(S&&(S[c]||d(S,c,p),S[u]||d(S,u,v),r[v]=p,A))for(h in i)S[h]||n(S,h,i[h],!0)}},e179:function(e,t,a){"use strict";var i=a("5b51"),s=a.n(i);s.a},e6c6:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("H",{attrs:{title:"确认订单",back:!0}}),a("div",{staticClass:"info"},[a("div",{staticClass:"add",on:{click:function(t){0==e.add.id?e.toAddAdd():e.toChoseAdd()}}},[a("div",{staticStyle:{padding:"2rem","padding-bottom":"0"}},[a("div",{},[e._v(e._s(e.add.consignee)+"    "+e._s(e.add.phone))]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.add.defaultAddress,expression:"add.defaultAddress"}],staticStyle:{display:"inline-block",color:"white","background-color":"#FD9033",padding:"0 1rem 0 1rem","margin-right":"1rem","font-size":"1rem","line-height":"2rem","margin-top":".2rem","vertical-align":"top"}},[e._v("\n          默认地址\n        ")]),a("span",[e._v(e._s(e.add.province+" "+e.add.city+" "+e.add.county+" "+e.add.address))]),e._v(" \n        "),a("i",{directives:[{name:"show",rawName:"v-show",value:0!=e.add.id,expression:"add.id!=0"}],staticClass:"iconfont iconedit-1-copy",on:{click:function(t){return e.toChoseAdd()}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.add.id,expression:"add.id==0"}],on:{click:function(t){return e.toAddAdd()}}},[e._v("+")])]),a("img",{staticStyle:{width:"100%"},attrs:{src:e.addLine,alt:""}})]),a("div",{staticClass:"p-info"},[a("div",{staticClass:"l"},[a("img",{attrs:{src:e.p_info.url}})]),a("div",{staticClass:"r"},[a("div",[e._v(e._s(e.p_info.name))]),a("div",{staticStyle:{color:"#FD9034"}},[e._v("￥"+e._s(e.p_info.price)+"    "),a("span",{staticStyle:{"font-size":"1.3rem",color:"#2C2C2C"}},[e._v("x"+e._s(e.num))])])])]),a("div",{staticClass:"p-info"},[e._m(0),a("div",{staticClass:"r",staticStyle:{padding:"0",position:"absolute",right:"2.5rem","font-size":"1.3rem","line-height":"2.5rem","text-align":"right","vertical-align":"top"}},[a("div",[e._v("￥"+e._s(e.p_info.price*e.num))]),a("div",{staticStyle:{color:"#FD9034"}},[e._v("￥"+e._s(e.p_info.price*e.num))]),a("div",[e._v("包邮")])])]),a("div",{staticClass:"p-info"},[e._m(1),a("div",{staticClass:"r",staticStyle:{padding:"0",position:"absolute",right:"2.5rem","font-size":"1.3rem","line-height":"2.5rem","text-align":"right","vertical-align":"top"},on:{click:function(t){return e.toChoseCard()}}},[a("div",[e._v(e._s(e.c_info.userName)+"的"+e._s(e.c_info.bankName)+"银行卡（"+e._s(e.c_info.bankNo)+"）    >")])])]),a("div",{staticClass:"p-info",on:{click:function(t){return e.toAddCard()}}},[e._m(2),e._m(3)]),a("div",{staticClass:"btn-box",staticStyle:{"font-size":"1.6rem","line-height":"4.8rem"}},[a("span",[e._v("合计：")]),a("span",{staticStyle:{color:"#FD9034"}},[e._v("￥"+e._s(e.p_info.price*e.num))]),a("div",{staticClass:"c-btn by-btn",staticStyle:{float:"right","margin-right":"2rem"},on:{click:function(t){return e.getCode()}}},[e._v("确认支付")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.popShow,expression:"popShow"}],staticClass:"by-box",on:{click:function(t){e.popShow=!1}}},[a("div",{on:{click:function(e){e.stopPropagation()}}},[a("div",{staticClass:"code"},[a("div",{staticClass:"t"},[e._v("输入预留手机号接收的验证码")]),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",maxlength:"6"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])]),a("div",{staticStyle:{"text-align":"center",width:"32rem"}},[a("div",{staticClass:"addAdd c-btn",on:{click:function(t){return e.buy()}}},[e._v("确定")])])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l",staticStyle:{"font-size":"1.3rem","line-height":"2.5rem"}},[a("div",[e._v("商品总价")]),a("div",[e._v("应付总价")]),a("div",[e._v("运费")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l",staticStyle:{"font-size":"1.3rem","line-height":"2.5rem"}},[a("div",[e._v("支付方式")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l",staticStyle:{"font-size":"1.3rem","line-height":"2.5rem"}},[a("div",[e._v("+添加新的银行卡支付")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"r",staticStyle:{padding:"0",position:"absolute",right:"2.5rem","font-size":"1.3rem","line-height":"2.5rem","text-align":"right","vertical-align":"top"}},[a("div",[e._v(">")])])}],n=(a("ac6a"),a("28a5"),a("f499")),o=a.n(n),d=a("e814"),r=a.n(d),l=(a("cadf"),a("551c"),a("f751"),a("097d"),a("dc0c")),c=a("0502"),u=a.n(c),p=a("440a"),m={name:"",components:{H:l["a"]},data:function(){return{popShow:!1,code:"",addLine:u.a,p_info:{id:1,name:"海参",des:"鲜嫩可口有营养",url:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=5173111,939484135&fm=26&gp=0.jpg",price:150},add:{searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},id:2,province:"110000",city:"110100",county:"110101",address:"测试路112号楼",defaultAddress:!1,userId:"owlrR6JcJWjNnURgJW0VrgxXaU2Q",phone:"13287656756",consignee:"李四",gmtCreate:"2020-09-11",gmtUpdate:"2020-09-11",detailAddress:"北京市 北京市 朝阳区 望京soho1101"},c_info:{default:!0,number:"62222 **** **** **** 1234",name:"建设银行储蓄卡"},buyType:0,num:1,danhao:0}},created:function(){this.$route.query.buyType&&(this.buyType=r()(this.$route.query.buyType));var e=JSON.parse(localStorage.getItem("byInfo"));this.p_info=e.p_info,this.num=e.num;var t={searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},id:0,province:"110000",city:"110100",county:"110101",address:"测试路112号楼",defaultAddress:!1,userId:"owlrR6JcJWjNnURgJW0VrgxXaU2Q",phone:"13287656756",consignee:"李四",gmtCreate:"2020-09-11",gmtUpdate:"2020-09-11",detailAddress:"暂未添加地址，请添加地址并选择"},a=this;p["a"].jqAjax(shenUrl+"mp/address/list",o()({userId:localStorage.getItem("ticket").split(",")[1]}),"post",function(e){console.log(e),a.adds=e.data,a.adds.forEach(function(e,a){0==e.defaultAddress&&(t=e)}),localStorage.getItem("chosedAdd")&&JSON.parse(localStorage.getItem("chosedAdd")).id?a.add=JSON.parse(localStorage.getItem("chosedAdd")):a.add=JSON.parse(o()(t)),localStorage.setItem("chosedAdd",o()(a.add))},function(e){a.adds=[{searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},id:1,province:"110000",city:"110100",county:"110101",address:"测试路112号楼",defaultAddress:!0,userId:"owlrR6JcJWjNnURgJW0VrgxXaU2Q",phone:"13287656756",consignee:"张三",gmtCreate:"2020-09-11",gmtUpdate:"2020-09-11",detailAddress:"河北省 沧州市 青县 曹寺镇王召庄村2组18号"},{searchValue:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,params:{},id:2,province:"110000",city:"110100",county:"110101",address:"测试路112号楼",defaultAddress:!1,userId:"owlrR6JcJWjNnURgJW0VrgxXaU2Q",phone:"13287656756",consignee:"李四",gmtCreate:"2020-09-11",gmtUpdate:"2020-09-11",detailAddress:"北京市 北京市 朝阳区 望京soho1101"}]});var i={bankCode:null,bankName:"暂未绑卡，请绑卡并选择",bankNo:"",callbackdt:null,createBy:null,createTime:null,id:0,idCard:"165*********2921",params:{},phoneNum:"*******9040",remark:null,savedt:null,searchValue:null,status:0,updateBy:null,updateTime:null,userId:"oL3Xx6CEc8dHkHDWikDVXOHyNOG4",userName:"1"};p["a"].jqAjax(shenUrl+"mp/bank/list",o()({userId:localStorage.getItem("ticket").split(",")[1]}),"post",function(e){console.log(e),e.data.length?(a.c_info=localStorage.getItem("chosedCard")?JSON.parse(localStorage.getItem("chosedCard")):JSON.parse(o()(e.data[0])),localStorage.setItem("chosedCard",o()(a.c_info))):a.c_info=JSON.parse(o()(i))},function(e){})},methods:{getCode:function(){var e=this;this.danhao||p["a"].jqAjax(shenUrl+"mp/syn",o()({skuId:e.p_info.id,skuNum:e.num,buyType:e.buyType,userId:localStorage.getItem("ticket").split(",")[1],adid:e.add.id}),"post",function(t){e.danhao=t.data.id,200==t.code?p["a"].jqAjax(shenUrl+"mp/payment/ysb/sendVericode",o()({orderId:t.data.id,userId:localStorage.getItem("ticket").split(",")[1],userBankId:e.c_info.id}),"post",function(a){200==t.code?e.$message.success("验证码发送成功"):e.$message.warning(t.msg),console.log(a)},function(e){console.log(e)}):e.$message.warning(t.msg),console.log(t)},function(e){console.log(e)}),this.popShow=!0},buy:function(){if(!this.code)return this.$message.warning("请输入验证码"),!1;if(this.code.length<6)return this.$message.warning("请输入完整的验证码"),!1;var e=this;p["a"].jqAjax(shenUrl+"mp/payment/ysb/sendCollectDebit",o()({orderId:e.danhao,userId:localStorage.getItem("ticket").split(",")[1],userBankId:e.c_info.id,authCode:e.code}),"post",function(t){200==t.code?(e.$message.success("支付成功"),e.$router.push({path:"/order"})):(e.$message.warning(t.msg),e.popShow=!1),console.log(t)},function(e){console.log(e)})},toChoseAdd:function(){this.$router.push({path:"/add_list"})},toChoseCard:function(){this.$router.push({path:"/chosecard"})},toAddCard:function(){this.$router.push({path:"/new_card"})},toAddAdd:function(){this.$router.push({path:"/new_add"})}}},g=m,f=(a("e179"),a("2877")),h=Object(f["a"])(g,i,s,!1,null,"37a55bcf",null);t["default"]=h.exports}}]);